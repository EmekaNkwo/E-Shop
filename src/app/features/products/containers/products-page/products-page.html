<div class="products-container">
  <h2>Our Products</h2>

  <div class="search-container">
    <mat-icon>search</mat-icon>
    <input
      type="text"
      placeholder="Search products..."
      (input)="updateFilter($event.target.value)"
      aria-label="Search products"
    />
  </div>

  @if (loading()) {
  <div class="loading-container">
    <mat-spinner></mat-spinner>
  </div>
  } @else { @if (filteredProducts().length > 0) {
  <div class="products-grid">
    @for (product of filteredProducts(); track product.id) {
    <app-product-card
      [id]="product.id"
      [title]="product.title"
      [price]="product.price"
      [image]="product.image"
      (addToCart)="addToCart(product)"
      (toggleWishlist)="toggleWishlist(product)"
    ></app-product-card>
    }
  </div>
  } @else {
  <div class="no-products">
    <mat-icon>search_off</mat-icon>
    <p>No products found matching your search.</p>
    <button mat-stroked-button color="primary" (click)="updateFilter('')">Clear search</button>
  </div>
  } }
</div>
